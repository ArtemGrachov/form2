<h1>Upload image</h1>

<input type="button" ngf-select="$ctrl.selectFile($files)" name="" value="Select files">
<div ng-show="$ctrl.uploadImg">
    <p>Select image category:</p>
    <select ng-model="$ctrl.imageCat">
        <option value="Nature">Nature</option>
        <option value="Space">Space</option>
        <option value="People">People</option>
        <option value="Animals">Animals</option>
        <option value="City">City</option>
        <option value="Art">Art</option>
        <option value="Other">Other</option>
    </select>
    <p>Output size:</p>
    <select ng-model="$ctrl.imageSize">
        <option value="1024">1024px</option>
        <option value="512">512px</option>
        <option value="256">256px</option>
        <option value="128">128px</option>
        <option value="64">64px</option>
        <option value="32">32px</option>
    </select>
    <p>Crop image:</p>
    <div class="crop-area">
        <img-crop image="$ctrl.uploadImg" result-image="$ctrl.cropImage" result-image-size="$ctrl.imageSize" area-type="square"></img-crop>
    </div>
    <p>Output image:</p>
    <img ng-src="{{$ctrl.cropImage}}">
    <input type="button" ng-click="$ctrl.uploadFiles($ctrl.cropImage)" name="" value="Upload">
</div>

<div>
    <p ng-show="$ctrl.loading">
        Wait a moment...
    </p>
    <p class="form-success" ng-show="$ctrl.loadSuccess">
        Image uploaded successfully
    </p>
    <p class="form-error" ng-show="$ctrl.loadError">
        There are some errors with upload
    </p>
</div>
<ul class="upload-img-list">
    <li ng-repeat="img in $ctrl.images" class="upload-img-item">
        <a href="{{img.url}}" target="_blank">
            <cl-image public-id="{{img.public_id}}" format="jpg"></cl-image>
        </a>
        <input type="text" value="{{img.url}}" disabled>
    </li>
</ul>